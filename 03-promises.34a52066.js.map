{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAgB,CACrBC,QAAS,KAGJC,EAAO,CACZC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,oBAG5BI,EAAc,KACdC,EAAa,KAsBjB,SAASC,EAAcC,EAAUN,GAChC,IAAMO,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC5BC,YAAW,WACNN,EACHI,EAAQ,qBAAoCG,OAAfR,EAAS,QAAYQ,OAANd,EAAM,OAElDY,EAAO,oBAAmCE,OAAfR,EAAS,QAAYQ,OAANd,EAAM,M,GAE/CA,E,IA9BLJ,EAAKC,KAAKkB,iBAAiB,UAI3B,SAAwBC,GACvBA,EAAEC,OAAOC,aAAa,QAASF,EAAEC,OAAOE,M,IAHzCvB,EAAKC,KAAKkB,iBAAiB,UAM3B,SAAwBC,GACvBA,EAAEI,iBACFjB,EAAckB,OAAOzB,EAAKI,MAAMmB,OAEhC,IAAK,IAAIG,EAAI,EAAGA,GAAKD,OAAOzB,EAAKM,OAAOiB,OAAQG,IAC/ClB,EAAmB,IAANkB,EAAUnB,EAAcC,EAAaiB,OAAOzB,EAAKK,KAAKkB,OACnEd,EAAciB,EAAGlB,GACfmB,MAAK,SAAAC,G,OAAUhC,EAAAiC,OAAOC,QAAQF,EAAQ9B,E,IACtCiC,OAAM,SAAAH,G,OAAUhC,EAAAiC,OAAOG,QAAQJ,EAAQ9B,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst notifyOptions = {\n\ttimeout: 6000,\n};\n\nconst refs = {\n\tform: document.querySelector('.form'),\n\tdelay: document.querySelector('[name=\"delay\"]'),\n\tstep: document.querySelector('[name=\"step\"]'),\n\tamount: document.querySelector('[name=\"amount\"]'),\n};\n\nlet FIRST_DELAY = null;\nlet totalDelay = null;\n\nrefs.form.addEventListener('change', setInputValues);\n\nrefs.form.addEventListener('submit', launchPromises);\n\nfunction setInputValues(e) {\n\te.target.setAttribute('value', e.target.value);\n}\n\nfunction launchPromises(e) {\n\te.preventDefault();\n\tFIRST_DELAY = Number(refs.delay.value);\n\n\tfor (let i = 1; i <= Number(refs.amount.value); i++) {\n\t\ttotalDelay = i === 1 ? FIRST_DELAY : totalDelay + Number(refs.step.value);\n\t\tcreatePromise(i, totalDelay)\n\t\t\t.then(result => Notify.success(result, notifyOptions))\n\t\t\t.catch(result => Notify.failure(result, notifyOptions));\n\t}\n}\n\nfunction createPromise(position, delay) {\n\tconst shouldResolve = Math.random() > 0.3;\n\n\treturn new Promise((resolve, reject) => {\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\tresolve(`Fulfilled promise ${position} in ${delay}ms`);\n\t\t\t} else {\n\t\t\t\treject(`Rejected promise ${position} in ${delay}ms`);\n\t\t\t}\n\t\t}, delay);\n\t});\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$notifyOptions","timeout","$ce04d3a99e08e73b$var$refs","form","document","querySelector","delay","step","amount","$ce04d3a99e08e73b$var$FIRST_DELAY","$ce04d3a99e08e73b$var$totalDelay","$ce04d3a99e08e73b$var$createPromise","position","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","concat","addEventListener","e","target","setAttribute","value","preventDefault","Number","i","then","result","Notify","success","catch","failure"],"version":3,"file":"03-promises.34a52066.js.map"}