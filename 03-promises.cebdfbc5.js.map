{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAgB,CACrBC,QAAS,KAGJC,EAAO,CACZC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,oBAGhC,IAAII,EAAc,KACdC,EAAa,KAsBjB,SAASC,EAAcC,EAAUN,GAChC,MAAMO,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC5BC,YAAW,KACNN,EACHI,EAAQ,qBAAqBL,QAAeN,OAE5CY,EAAO,oBAAoBN,QAAeN,MAAU,GAEnDA,EAAM,G,CA9BXJ,EAAKC,KAAKiB,iBAAiB,UAI3B,SAAwBC,GACvBA,EAAEC,OAAOC,aAAa,QAASF,EAAEC,OAAOE,M,IAHzCtB,EAAKC,KAAKiB,iBAAiB,UAM3B,SAAwBC,GACvBA,EAAEI,iBACFhB,EAAciB,OAAOxB,EAAKI,MAAMkB,OAEhC,IAAK,IAAIG,EAAI,EAAGA,GAAKD,OAAOxB,EAAKM,OAAOgB,OAAQG,IAC/CjB,EAAmB,IAANiB,EAAUlB,EAAcC,EAAagB,OAAOxB,EAAKK,KAAKiB,OACnEb,EAAcgB,EAAGjB,GACfkB,MAAKC,GAAU/B,EAAAgC,OAAOC,QAAQF,EAAQ7B,KACtCgC,OAAMH,GAAU/B,EAAAgC,OAAOG,QAAQJ,EAAQ7B,I","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst notifyOptions = {\n\ttimeout: 6000,\n};\n\nconst refs = {\n\tform: document.querySelector('.form'),\n\tdelay: document.querySelector('[name=\"delay\"]'),\n\tstep: document.querySelector('[name=\"step\"]'),\n\tamount: document.querySelector('[name=\"amount\"]'),\n};\n\nlet FIRST_DELAY = null;\nlet totalDelay = null;\n\nrefs.form.addEventListener('change', setInputValues);\n\nrefs.form.addEventListener('submit', launchPromises);\n\nfunction setInputValues(e) {\n\te.target.setAttribute('value', e.target.value);\n}\n\nfunction launchPromises(e) {\n\te.preventDefault();\n\tFIRST_DELAY = Number(refs.delay.value);\n\n\tfor (let i = 1; i <= Number(refs.amount.value); i++) {\n\t\ttotalDelay = i === 1 ? FIRST_DELAY : totalDelay + Number(refs.step.value);\n\t\tcreatePromise(i, totalDelay)\n\t\t\t.then(result => Notify.success(result, notifyOptions))\n\t\t\t.catch(result => Notify.failure(result, notifyOptions));\n\t}\n}\n\nfunction createPromise(position, delay) {\n\tconst shouldResolve = Math.random() > 0.3;\n\n\treturn new Promise((resolve, reject) => {\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\tresolve(`Fulfilled promise ${position} in ${delay}ms`);\n\t\t\t} else {\n\t\t\t\treject(`Rejected promise ${position} in ${delay}ms`);\n\t\t\t}\n\t\t}, delay);\n\t});\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$notifyOptions","timeout","$47d4ff9957288465$var$refs","form","document","querySelector","delay","step","amount","$47d4ff9957288465$var$FIRST_DELAY","$47d4ff9957288465$var$totalDelay","$47d4ff9957288465$var$createPromise","position","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","e","target","setAttribute","value","preventDefault","Number","i","then","result","Notify","success","catch","failure"],"version":3,"file":"03-promises.cebdfbc5.js.map"}